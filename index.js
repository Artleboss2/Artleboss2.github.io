      let currentLang = "fr";

      const translations = {
        fr: {
          nav: {
            projects: "Projets",
            skills: "Comp√©tences",
            resources: "Ressources",
            contact: "Contact",
          },
          hero: {
            title: "D√©veloppeur passionn√© par le gaming et la cr√©ation",
            description:
              "Je d√©veloppe des applications, texture packs et outils cr√©atifs pour la communaut√© gaming. Sp√©cialis√© dans la customisation de jeux, les applications mobiles et l'automatisation syst√®me.",
            cta: "D√©couvrir mes projets",
          },
          projects: {
            title: "Projets s√©lectionn√©s",
            project1: {
              title: "Zynit ‚Äî To-Do List App",
              description:
                "Application mobile de gestion de t√¢ches avec interface moderne et intuitive. Syst√®me de cat√©gorisation, rappels et synchronisation multi-plateforme. D√©velopp√©e avec des standards juridiques complets (CLUF) et conformit√© aux lois canadiennes sur la protection des donn√©es.",
            },
            project2: {
              title: "Bloxd Texture Pack",
              description:
                "Texture pack personnalis√© pour Bloxd.io permettant de modifier l'apparence des blocs, skybox, items et mod√®les 3D. Syst√®me de customisation CSS avanc√© pour personnaliser l'interface du jeu.",
            },
            project3: {
              title: "Batch Multitool",
              description:
                "Outil multifonction d√©velopp√© en Batch pour automatiser des t√¢ches basiques syst√®me. Interface en ligne de commande intuitive pour faciliter l'administration Windows.",
            },
            project4: {
              title: "Portfolio GitHub",
              description:
                "Portfolio professionnel interactif avec animations r√©actives au curseur, particules g√©n√©ratives et design moderne. Terminal interactif int√©gr√© et jeu Snake. Optimis√© pour les performances et l'exp√©rience utilisateur.",
            },
            project5: {
              title: "St-Mars E L Inc ‚Äî Refonte Web",
              description:
                "Refonte num√©rique premium pour une entreprise familiale de plomberie et chauffage √† Montr√©al, fond√©e en 1937. Design ¬´Luxe Industriel¬ª avec animations de scroll invers√©, effets parallaxe et identit√© visuelle modernis√©e sur 4 g√©n√©rations.",
            },
            project6: {
              title: "NFT Generator",
              description:
                "G√©n√©rateur d'NFT interactif permettant de cr√©er et visualiser des actifs num√©riques uniques directement dans le navigateur. Interface web moderne avec g√©n√©ration algorithmique de combinaisons d'attributs et pr√©visualisation en temps r√©el.",
            },
            project7: {
              title: "Phone Simulation",
              description:
                "Simulation interactive d'interface smartphone dans le navigateur. Reproduction fid√®le des interactions tactiles, notifications, applications et gestes courants d'un t√©l√©phone moderne. Exp√©rience immersive enti√®rement construite en technologies web.",
            },
            project8: {
              title: "UI Components Library",
              description:
                "Collection de composants et maquettes d'interfaces utilisateur modernes. Ensemble de designs r√©utilisables incluant boutons, cartes, modales et layouts avanc√©s. Vitrine de comp√©tences en design system et coh√©rence visuelle.",
            },
            project9: {
              title: "Music Page",
              description:
                "Page musicale interactive avec lecteur audio personnalis√©, gestion de licences et notices l√©gales int√©gr√©es. Interface immersive d√©di√©e √† la d√©couverte et l'√©coute de cr√©ations musicales, avec documentation compl√®te des droits d'auteur.",
            },
          },
          skills: {
            title: "Expertise technique",
            frontend: { title: "Frontend & Design", item3: "Animations Web" },
            gamedev: {
              title: "Game Development",
              item2: "Mod√©lisation 3D (GLB)",
              item4: "Customisation de jeux",
            },
            mobile: {
              title: "Mobile Development",
              item2: "Applications Cross-Platform",
              item3: "UI/UX Mobile",
              item4: "Architecture d'applications",
              item5: "Gestion de donn√©es",
            },
            automation: {
              title: "Syst√®me & Automation",
              item3: "Automatisation de t√¢ches",
              item4: "Administration syst√®me",
            },
            tools: {
              title: "Outils & Technologies",
              item3: "√âdition d'images",
              item4: "Gestion de fichiers",
              item6: "Documentation juridique",
            },
          },
          footer: { copyright: "¬© 2026 ‚Äî Con√ßu et d√©velopp√© avec passion" },
          terminal: {
            welcome: "Bienvenue dans le terminal interactif!",
            helpPrompt: "Tapez 'help' pour voir les commandes disponibles.",
            helpTitle: "Commandes disponibles:",
            help: "‚Ä¢ help - Affiche cette aide",
            about: "‚Ä¢ about - √Ä propos de moi",
            skills: "‚Ä¢ skills - Liste mes comp√©tences",
            projects: "‚Ä¢ projects - Liste mes projets",
            contact: "‚Ä¢ contact - Informations de contact",
            github: "‚Ä¢ github - Ouvre mon GitHub",
            clear: "‚Ä¢ clear - Efface le terminal",
            date: "‚Ä¢ date - Affiche la date actuelle",
            whoami: "‚Ä¢ whoami - Qui suis-je?",
            social: "‚Ä¢ social - Liens vers mes r√©seaux sociaux",
            matrix: "‚Ä¢ matrix - Active l'effet Matrix üü¢",
            snake: "‚Ä¢ snake - Lance le jeu Snake üêç",
            whatismyip: "‚Ä¢ whatismyip - Affiche votre adresse IP",
            snakeControls: "Utilisez les fl√®ches ‚Üê ‚Üë ‚Üí ‚Üì pour jouer",
            snakeClose: "Fermer (ESC)",
            snakeScore: "Score:",
            gameOver: "Game Over!",
            finalScore: "Score final:",
          },
        },
        en: {
          nav: {
            projects: "Projects",
            skills: "Skills",
            resources: "Resources",
            contact: "Contact",
          },
          hero: {
            title: "Developer passionate about gaming and creation",
            description:
              "I develop applications, texture packs and creative tools for the gaming community. Specialized in game customization, mobile applications and system automation.",
            cta: "Discover my projects",
          },
          projects: {
            title: "Selected Projects",
            project1: {
              title: "Zynit ‚Äî To-Do List App",
              description:
                "Mobile task management application with modern and intuitive interface. Categorization system, reminders and multi-platform synchronization. Developed with complete legal standards (EULA) and compliance with Canadian data protection laws.",
            },
            project2: {
              title: "Bloxd Texture Pack",
              description:
                "Custom texture pack for Bloxd.io allowing to modify the appearance of blocks, skybox, items and 3D models. Advanced CSS customization system to personalize the game interface.",
            },
            project3: {
              title: "Batch Multitool",
              description:
                "Multifunction tool developed in Batch to automate basic system tasks. Intuitive command-line interface to facilitate Windows administration.",
            },
            project4: {
              title: "GitHub Portfolio",
              description:
                "Interactive professional portfolio with cursor-reactive animations, generative particles and modern design. Integrated interactive terminal and Snake game. Optimized for performance and user experience.",
            },
            project5: {
              title: "St-Mars E L Inc ‚Äî Web Redesign",
              description:
                'Premium digital redesign for a family-owned plumbing and heating company in Montreal, founded in 1937. "Luxury Industrial" design with reverse scroll animations, parallax effects and modernized visual identity spanning 4 generations.',
            },
            project6: {
              title: "NFT Generator",
              description:
                "Interactive NFT generator allowing you to create and visualize unique digital assets directly in the browser. Modern web interface with algorithmic generation of attribute combinations and real-time preview.",
            },
            project7: {
              title: "Phone Simulation",
              description:
                "Interactive smartphone interface simulation in the browser. Faithful reproduction of touch interactions, notifications, apps and common gestures of a modern phone. Fully immersive experience built with web technologies.",
            },
            project8: {
              title: "UI Components Library",
              description:
                "Collection of modern user interface components and mockups. Set of reusable designs including buttons, cards, modals and advanced layouts. Showcase of design system skills and visual consistency.",
            },
            project9: {
              title: "Music Page",
              description:
                "Interactive music page with custom audio player, license management and integrated legal notices. Immersive interface dedicated to discovering and listening to musical creations, with complete copyright documentation.",
            },
          },
          skills: {
            title: "Technical Expertise",
            frontend: { title: "Frontend & Design", item3: "Web Animations" },
            gamedev: {
              title: "Game Development",
              item2: "3D Modeling (GLB)",
              item4: "Game Customization",
            },
            mobile: {
              title: "Mobile Development",
              item2: "Cross-Platform Apps",
              item3: "Mobile UI/UX",
              item4: "App Architecture",
              item5: "Data Management",
            },
            automation: {
              title: "System & Automation",
              item3: "Task Automation",
              item4: "System Administration",
            },
            tools: {
              title: "Tools & Technologies",
              item3: "Image Editing",
              item4: "File Management",
              item6: "Legal Documentation",
            },
          },
          footer: { copyright: "¬© 2026 ‚Äî Designed and developed with passion" },
          terminal: {
            welcome: "Welcome to the interactive terminal!",
            helpPrompt: "Type 'help' to see available commands.",
            helpTitle: "Available commands:",
            help: "‚Ä¢ help - Shows this help",
            about: "‚Ä¢ about - About me",
            skills: "‚Ä¢ skills - List my skills",
            projects: "‚Ä¢ projects - List my projects",
            contact: "‚Ä¢ contact - Contact information",
            github: "‚Ä¢ github - Open my GitHub",
            clear: "‚Ä¢ clear - Clear the terminal",
            date: "‚Ä¢ date - Show current date",
            whoami: "‚Ä¢ whoami - Who am I?",
            social: "‚Ä¢ social - Links to my social networks",
            matrix: "‚Ä¢ matrix - Activate Matrix effect üü¢",
            snake: "‚Ä¢ snake - Launch Snake game üêç",
            whatismyip: "‚Ä¢ whatismyip - Show your IP address",
            snakeControls: "Use arrow keys ‚Üê ‚Üë ‚Üí ‚Üì to play",
            snakeClose: "Close (ESC)",
            snakeScore: "Score:",
            gameOver: "Game Over!",
            finalScore: "Final score:",
          },
        },
      };

      function toggleLanguage() {
        currentLang = currentLang === "fr" ? "en" : "fr";
        document.getElementById("langIcon").textContent =
          currentLang === "fr" ? "EN" : "FR";
        updateContent();
        localStorage.setItem("preferredLang", currentLang);
      }

      function updateContent() {
        document.querySelectorAll("[data-i18n]").forEach((element) => {
          const key = element.getAttribute("data-i18n");
          const keys = key.split(".");
          let translation = translations[currentLang];
          for (const k of keys) {
            translation = translation[k];
          }
          if (translation) element.textContent = translation;
        });
        updateTerminalLanguage();
      }

      function updateTerminalLanguage() {
        const t = translations[currentLang].terminal;
        document.querySelector(".snake-controls").textContent = t.snakeControls;
        document.querySelector(".snake-close button").textContent =
          t.snakeClose;
        document.querySelector(".snake-score").innerHTML =
          `${t.snakeScore} <span id="snakeScore">0</span>`;
      }

      window.addEventListener("DOMContentLoaded", () => {
        const savedLang = localStorage.getItem("preferredLang");
        if (savedLang && savedLang !== currentLang) toggleLanguage();
      });

      // ========== TERMINAL ==========
      const terminal = document.getElementById("terminal");
      const terminalOutput = document.getElementById("terminalOutput");
      const terminalInput = document.getElementById("terminalInput");
      let commandHistory = [];
      let historyIndex = -1;

      const commands = {
        help: {
          execute: () => {
            const t = translations[currentLang].terminal;
            return `<div class="terminal-success">${t.helpTitle}</div><div class="terminal-info">${t.help}<br>${t.about}<br>${t.skills}<br>${t.projects}<br>${t.contact}<br>${t.github}<br>${t.clear}<br>${t.date}<br>${t.whoami}<br>${t.social}<br>${t.whatismyip}<br>${t.matrix}<br>${t.snake}</div>`;
          },
        },
        about: {
          execute: () =>
            `<div class="terminal-success">√Ä propos de moi:</div><div class="terminal-info">D√©veloppeur passionn√© par le gaming et la cr√©ation.<br>Applications mobiles, texture packs, outils d'automatisation,<br>redesigns web et projets cr√©atifs.<br><br>Sp√©cialit√©s: Mobile Dev, Web Dev, Game Modding, Automation</div>`,
        },
        skills: {
          execute: () =>
            `<div class="terminal-success">Comp√©tences principales:</div><div class="terminal-info">Frontend: HTML5, CSS3, JavaScript, React Native<br>Mobile: Cross-platform Apps, UI/UX Design<br>Game Dev: Texture Packs, WebGL, 3D Modeling<br>Automation: Batch, Shell Scripting<br>Tools: Git, VS Code, GitHub Pages</div>`,
        },
        projects: {
          execute: () =>
            `<div class="terminal-success">Projets (9):</div><div class="terminal-info">01. Zynit - Application mobile de to-do list<br>02. Bloxd Texture Pack - Customisation CSS pour Bloxd.io<br>03. Batch Multitool - Automatisation Windows<br>04. Portfolio GitHub - Ce site!<br>05. St-Mars E L Inc - Refonte web plomberie Montr√©al<br>06. NFT Generator - G√©n√©rateur d'actifs num√©riques<br>07. Phone Simulation - Simulation d'interface mobile<br>08. UI Components - Biblioth√®que de composants UI<br>09. Music Page - Lecteur musical interactif<br><br>Visitez github.com/Artleboss2 pour plus de d√©tails.</div>`,
        },
        contact: {
          execute: () =>
            `<div class="terminal-success">Contact:</div><div class="terminal-info">GitHub: github.com/Artleboss2<br>Email: contact@artleboss.com<br>Discord: Disponible sur demande<br>LinkedIn: √Ä venir</div>`,
        },
        github: {
          execute: () => {
            window.open("https://github.com/Artleboss2", "_blank");
            return `<div class="terminal-success">Ouverture de GitHub dans un nouvel onglet...</div>`;
          },
        },
        clear: {
          execute: () => {
            terminalOutput.innerHTML = "";
            return "";
          },
        },
        date: {
          execute: () => {
            const now = new Date();
            const locale = currentLang === "fr" ? "fr-FR" : "en-US";
            return `<div class="terminal-info">${now.toLocaleString(locale, { weekday: "long", year: "numeric", month: "long", day: "numeric", hour: "2-digit", minute: "2-digit", second: "2-digit", timeZoneName: "short" })}</div>`;
          },
        },
        whoami: {
          execute: () =>
            `<div class="terminal-info">artleboss2 - D√©veloppeur & Cr√©ateur</div>`,
        },
        social: {
          execute: () =>
            `<div class="terminal-success">R√©seaux sociaux:</div><div class="terminal-info">üêô GitHub: github.com/Artleboss2<br>üíº LinkedIn: √Ä venir<br>üí¨ Discord: Disponible sur demande<br>üìß Email: contact@artleboss.com</div>`,
        },
        matrix: {
          execute: () => {
            activateMatrix();
            return `<div class="terminal-success">Effet Matrix activ√©! Il s'arr√™tera apr√®s 10 secondes ou appuyez sur ESC.</div>`;
          },
        },
        snake: {
          execute: () => {
            startSnake();
            return `<div class="terminal-success">Lancement du jeu Snake! Utilisez les fl√®ches pour jouer.</div>`;
          },
        },
        whatismyip: {
          execute: async () => {
            try {
              const r = await fetch("https://api.ipify.org?format=json");
              const d = await r.json();
              const r2 = await fetch(`https://ipapi.co/${d.ip}/json/`);
              const info = await r2.json();
              return `<div class="terminal-success">Votre adresse IP:</div><div class="terminal-info">IP: ${d.ip}<br>Ville: ${info.city || "Inconnue"}<br>R√©gion: ${info.region || "Inconnue"}<br>Pays: ${info.country_name || "Inconnu"}<br>FAI: ${info.org || "Inconnu"}</div>`;
            } catch (e) {
              return `<div class="terminal-error">Erreur lors de la r√©cup√©ration de l'IP.</div>`;
            }
          },
        },
      };

      const easterEggs = {
        hello: "Hello! üëã Bienvenue sur mon portfolio!",
        hi: "Salut! Comment puis-je vous aider?",
        bonjour: 'Bonjour! Tapez "help" pour voir les commandes.',
        sudo: "D√©sol√©, vous n'avez pas les permissions sudo ici üòÑ",
        hack: "Acc√®s refus√©. Mais j'appr√©cie la tentative! üîí",
        ls: "portfolio.html  zynit/  bloxd-texture-pack/  batch-multitool/  plomberie/  nft-generator/  phonesimulation/  ui/  music.html",
        pwd: "/home/artleboss2/portfolio",
        exit: "Vous ne pouvez pas quitter le terminal, mais vous pouvez le fermer! üòâ",
        konami:
          "Code Konami d√©tect√©! Mais je n'ai pas encore d'easter egg pour √ßa... üéÆ",
      };

      function toggleTerminal() {
        terminal.classList.toggle("minimized");
        if (!terminal.classList.contains("minimized")) terminalInput.focus();
      }
      function closeTerminal() {
        terminal.classList.add("hidden");
      }
      function addToOutput(content) {
        const line = document.createElement("div");
        line.className = "terminal-line";
        line.innerHTML = content;
        terminalOutput.appendChild(line);
        terminalOutput.scrollTop = terminalOutput.scrollHeight;
      }

      function executeCommand(cmd) {
        const trimmedCmd = cmd.trim().toLowerCase();
        if (trimmedCmd) {
          commandHistory.push(cmd);
          historyIndex = commandHistory.length;
        }
        addToOutput(
          `<span class="terminal-prompt">$</span> <span class="terminal-command">${cmd}</span>`,
        );
        if (!trimmedCmd) return;
        if (easterEggs[trimmedCmd]) {
          addToOutput(
            `<div class="terminal-info">${easterEggs[trimmedCmd]}</div>`,
          );
          return;
        }
        if (commands[trimmedCmd]) {
          const result = commands[trimmedCmd].execute();
          if (result instanceof Promise) {
            addToOutput(`<div class="terminal-info">‚è≥ Chargement...</div>`);
            result.then((output) => {
              const lines = terminalOutput.querySelectorAll(".terminal-line");
              lines[lines.length - 1].remove();
              if (output) addToOutput(output);
            });
          } else if (result) {
            addToOutput(result);
          }
        } else {
          addToOutput(
            `<div class="terminal-error">Commande inconnue: "${cmd}". Tapez "help" pour voir les commandes disponibles.</div>`,
          );
        }
      }

      terminalInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          executeCommand(terminalInput.value);
          terminalInput.value = "";
        } else if (e.key === "ArrowUp") {
          e.preventDefault();
          if (historyIndex > 0) {
            historyIndex--;
            terminalInput.value = commandHistory[historyIndex];
          }
        } else if (e.key === "ArrowDown") {
          e.preventDefault();
          if (historyIndex < commandHistory.length - 1) {
            historyIndex++;
            terminalInput.value = commandHistory[historyIndex];
          } else {
            historyIndex = commandHistory.length;
            terminalInput.value = "";
          }
        } else if (e.key === "Tab") {
          e.preventDefault();
          const v = terminalInput.value.toLowerCase();
          const m = Object.keys(commands).filter((c) => c.startsWith(v));
          if (m.length === 1) terminalInput.value = m[0];
        }
      });

      function activateMatrix() {
        const canvas = document.createElement("canvas");
        Object.assign(canvas.style, {
          position: "fixed",
          top: "0",
          left: "0",
          width: "100%",
          height: "100%",
          zIndex: "99999",
          pointerEvents: "none",
        });
        document.body.appendChild(canvas);
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const letters =
          "ARTLEBOSS2‚Ä¢ZYNIT‚Ä¢GITHUB‚Ä¢PORTFOLIO‚Ä¢HTML‚Ä¢CSS‚Ä¢JS‚Ä¢01‚Ä¢10‚Ä¢11‚Ä¢00";
        const fontSize = 14,
          columns = canvas.width / fontSize;
        const drops = Array(Math.floor(columns)).fill(1);
        function draw() {
          ctx.fillStyle = "rgba(0,0,0,0.05)";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.fillStyle = "#4ade80";
          ctx.font = fontSize + "px JetBrains Mono";
          for (let i = 0; i < drops.length; i++) {
            ctx.fillText(
              letters[Math.floor(Math.random() * letters.length)],
              i * fontSize,
              drops[i] * fontSize,
            );
            if (drops[i] * fontSize > canvas.height && Math.random() > 0.975)
              drops[i] = 0;
            drops[i]++;
          }
        }
        const interval = setInterval(draw, 33);
        const closeMatrix = (e) => {
          if (e.key === "Escape") {
            clearInterval(interval);
            canvas.remove();
            document.removeEventListener("keydown", closeMatrix);
          }
        };
        document.addEventListener("keydown", closeMatrix);
        setTimeout(() => {
          clearInterval(interval);
          canvas.remove();
          document.removeEventListener("keydown", closeMatrix);
        }, 10000);
      }

      // ========== SNAKE ==========
      const snakeGameContainer = document.getElementById("snakeGame");
      const snakeCanvas = document.getElementById("snakeCanvas");
      let snakeScoreDisplay = document.getElementById("snakeScore");
      const gridSize = 20;
      let snake = [{ x: 10, y: 10 }],
        food = { x: 15, y: 15 },
        direction = { x: 1, y: 0 },
        nextDirection = { x: 1, y: 0 };
      let score = 0,
        gameLoop = null,
        gameSpeed = 150;

      function startSnake() {
        snake = [{ x: 10, y: 10 }];
        food = generateFood();
        direction = { x: 1, y: 0 };
        nextDirection = { x: 1, y: 0 };
        score = 0;
        gameSpeed = 150;
        snakeScoreDisplay = document.getElementById("snakeScore");
        if (snakeScoreDisplay) snakeScoreDisplay.textContent = score;
        snakeCanvas.innerHTML = "";
        snakeCanvas.style.gridTemplateColumns = `repeat(${gridSize}, 20px)`;
        snakeCanvas.style.gridTemplateRows = `repeat(${gridSize}, 20px)`;
        for (let i = 0; i < gridSize * gridSize; i++) {
          const cell = document.createElement("div");
          cell.className = "snake-cell";
          cell.dataset.index = i;
          snakeCanvas.appendChild(cell);
        }
        snakeGameContainer.classList.add("active");
        if (gameLoop) clearInterval(gameLoop);
        gameLoop = setInterval(updateSnake, gameSpeed);
        renderSnake();
      }

      function closeSnake() {
        snakeGameContainer.classList.remove("active");
        if (gameLoop) {
          clearInterval(gameLoop);
          gameLoop = null;
        }
      }
      function generateFood() {
        let f;
        do {
          f = {
            x: Math.floor(Math.random() * gridSize),
            y: Math.floor(Math.random() * gridSize),
          };
        } while (snake.some((s) => s.x === f.x && s.y === f.y));
        return f;
      }

      function updateSnake() {
        direction = nextDirection;
        const head = {
          x: snake[0].x + direction.x,
          y: snake[0].y + direction.y,
        };
        if (
          head.x < 0 ||
          head.x >= gridSize ||
          head.y < 0 ||
          head.y >= gridSize
        ) {
          gameOver();
          return;
        }
        if (snake.some((s) => s.x === head.x && s.y === head.y)) {
          gameOver();
          return;
        }
        snake.unshift(head);
        if (head.x === food.x && head.y === food.y) {
          score += 10;
          const sd = document.getElementById("snakeScore");
          if (sd) sd.textContent = score;
          food = generateFood();
          if (score % 50 === 0 && gameSpeed > 50) {
            gameSpeed -= 10;
            clearInterval(gameLoop);
            gameLoop = setInterval(updateSnake, gameSpeed);
          }
        } else {
          snake.pop();
        }
        renderSnake();
      }

      function renderSnake() {
        document
          .querySelectorAll(".snake-cell")
          .forEach((c) => c.classList.remove("snake", "food"));
        snake.forEach((s) => {
          const c = document.querySelector(
            `[data-index="${s.y * gridSize + s.x}"]`,
          );
          if (c) c.classList.add("snake");
        });
        const fc = document.querySelector(
          `[data-index="${food.y * gridSize + food.x}"]`,
        );
        if (fc) fc.classList.add("food");
      }

      function gameOver() {
        clearInterval(gameLoop);
        gameLoop = null;
        const t = translations[currentLang].terminal;
        closeSnake();
        if (terminal.classList.contains("minimized"))
          terminal.classList.remove("minimized");
        addToOutput(`<div class="terminal-error">üêç ${t.gameOver}</div>`);
        addToOutput(
          `<div class="terminal-success">${t.finalScore} ${score}</div>`,
        );
        addToOutput(
          `<div class="terminal-info">Tapez "snake" pour rejouer!</div>`,
        );
        terminalInput.focus();
      }

      document.addEventListener("keydown", (e) => {
        if (!snakeGameContainer.classList.contains("active")) return;
        switch (e.key) {
          case "ArrowUp":
            e.preventDefault();
            if (direction.y === 0) nextDirection = { x: 0, y: -1 };
            break;
          case "ArrowDown":
            e.preventDefault();
            if (direction.y === 0) nextDirection = { x: 0, y: 1 };
            break;
          case "ArrowLeft":
            e.preventDefault();
            if (direction.x === 0) nextDirection = { x: -1, y: 0 };
            break;
          case "ArrowRight":
            e.preventDefault();
            if (direction.x === 0) nextDirection = { x: 1, y: 0 };
            break;
          case "Escape":
            e.preventDefault();
            closeSnake();
            break;
        }
      });

      setTimeout(() => {
        terminal.classList.remove("minimized");
      }, 3000);

      // ========== CURSOR ==========
      const cursor = document.querySelector(".cursor");
      const follower = document.querySelector(".cursor-follower");
      let mouseX = 0,
        mouseY = 0,
        followerX = 0,
        followerY = 0;

      document.addEventListener("mousemove", (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
        cursor.style.left = mouseX + "px";
        cursor.style.top = mouseY + "px";
      });

      function animateFollower() {
        followerX += (mouseX - followerX) * 0.15;
        followerY += (mouseY - followerY) * 0.15;
        follower.style.left = followerX + "px";
        follower.style.top = followerY + "px";
        requestAnimationFrame(animateFollower);
      }
      animateFollower();

      document
        .querySelectorAll(
          "a, button, .project-card, .tech-tag, .skill-category li, .terminal-btn",
        )
        .forEach((el) => {
          el.addEventListener("mouseenter", () => {
            cursor.classList.add("hover");
            follower.classList.add("hover");
          });
          el.addEventListener("mouseleave", () => {
            cursor.classList.remove("hover");
            follower.classList.remove("hover");
          });
        });

      const particlesContainer = document.getElementById("particles");
      let particles = [];

      function createParticle(x, y) {
        if (particles.length > 20) {
          const o = particles.shift();
          o.remove();
        }
        const particle = document.createElement("div");
        particle.className = "particle";
        particle.style.left = x + "px";
        particle.style.top = y + "px";
        const angle = Math.random() * Math.PI * 2,
          velocity = Math.random() * 2 + 1;
        const vx = Math.cos(angle) * velocity,
          vy = Math.sin(angle) * velocity;
        particlesContainer.appendChild(particle);
        particles.push(particle);
        let opacity = 1,
          posX = x,
          posY = y;
        function animate() {
          opacity -= 0.02;
          posX += vx;
          posY += vy;
          particle.style.opacity = opacity;
          particle.style.transform = `translate(${posX - x}px,${posY - y}px)`;
          if (opacity > 0) requestAnimationFrame(animate);
          else {
            particle.remove();
            particles = particles.filter((p) => p !== particle);
          }
        }
        animate();
      }

      let particleInterval;
      document.addEventListener("mousemove", (e) => {
        clearInterval(particleInterval);
        particleInterval = setInterval(
          () => createParticle(e.clientX, e.clientY),
          50,
        );
      });

      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target)
            target.scrollIntoView({ behavior: "smooth", block: "start" });
        });
      });

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.style.opacity = "1";
              entry.target.style.transform = "translateY(0)";
            }
          });
        },
        { threshold: 0.1, rootMargin: "0px 0px -100px 0px" },
      );

      document
        .querySelectorAll(".project-card, .skill-category")
        .forEach((el) => {
          el.style.opacity = "0";
          el.style.transform = "translateY(30px)";
          el.style.transition = "all 0.6s cubic-bezier(0.4,0,0.2,1)";
          observer.observe(el);
        });
